# Server side validation

Most common server side validation is checking if the current value is "available", like username or email, but
it can be anything. Dev is in charge of constructing a server validation promise that will either resolve with Error object, or with undefined,
indicating that the field passed validation.

Server side validation is done async, and Form provides "validations" object that you can use to render the "validating" state
in your UI.

Building upon the previous example, we are adding the "serverValidator" object to our form configuration object.

Client validators will always run before server validators, preventing unecessary server validations for something that can
be checked on client (like an empty field).

```js
// SignIn.tsx

function SignIn() {
  const { form, update, submit } = useForm({
    initial: {
      username: "",
      password: "",
    },
    validators: {
      username: ({ username }) =>
        username.length == 0
          ? new Error("Must contain at least 1 char.")
          : undefined,
      password: ({ password }) =>
        password.length == 0
          ? new Error("Must contain at least 1 char.")
          : undefined,
    },
    asyncValidators: {
      username: ({ username }) => {
        // username string is already client side validated here
        return Promise.resolve(undefined).then(delayResult);
      },
    },
    onSubmitForm: ({ username, password }) => {
      /// This scope guarantees all fields passed validations.
      /// Send form.username + form.password to server.
    },
  });

  return (
    <>
      <input
        value={form.username}
        onChange={(e) => update("username", e.target.value)}
      />
      <input
        value={form.password}
        onChange={(e) => update("password", e.target.value)}
      />
      <button onClick={() => submit()}>Submit</button>
    </>
  );
}

/// Utility method for delaying promise result.
function delayResult<T>(value: T, delay: number = 3000) {
  return (
    new Promise() <
    T >
    ((resolve) => {
      setTimeout(() => {
        resolve(value);
      }, delay);
    })
  );
}
```
